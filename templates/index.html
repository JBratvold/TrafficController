<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Traffic Light Simulation</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">


  <style>
    /* General page setup */
    body {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: auto; /* Allow scrolling */
        overflow-x: hidden; /* Hide horizontal scrollbar */
        display: flex;
        justify-content: center;
        align-items: flex-start; /* Align content at the top */
        font-family: Arial, sans-serif;
        color: white;
        background-color: #1e1e1e;
        position: relative;
        width: 98%;
    }

    /* Container for buttons and canvas */
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      z-index: 1;
      position: relative;
      min-height: 100vh; /* Ensure container is at least as tall as the viewport */
      box-sizing: border-box; /* Prevent overflow from padding */
      padding: 20px;
      overflow: hidden; /* Hide scrollbars */
    }

    /* Canvas setup - transparent background */
    canvas {
      background: transparent;
      display: block;
      margin: 20px;
      border-radius: 10px;
      /* box-shadow: 0 0 20px rgba(255, 255, 255, 0.4); */
    }

    /* Button container aligned horizontally */
    .button-container {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }

    /* Button styling */
    button {
      padding: 12px 24px;
      font-size: 18px;
      border-radius: 8px;
      margin: 10px;
      border: none;
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: all 0.3s ease;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
    }

    button:hover {
      background-color: #45a049;
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
    }

    button:active {
      transform: scale(0.98);
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
    }

    /* Text container styling */
    .text-container {
      text-align: center;
      color: #f0f0f0;
      margin-top: 30px;
      max-width: 800px;
      font-size: 18px;
      line-height: 1.6;
      padding: 10px;
      background-color: rgba(0, 0, 0, 0.5); /* Slight transparency */
      border-radius: 8px;
    }

    /* Ensure the particles are in the background */
    #particles-js {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

  </style>
</head>
<body>

  <!-- Particle background -->
  <div id="particles-js"></div>

  <div class="container">
    <canvas id="gameCanvas" width="800" height="800"></canvas>
    
    <!-- Button container placed horizontally beside each other -->
    <div class="button-container">
      <button onclick="changeLight()">Change Light ðŸš¦</button>
      <button onclick="addCar()">Add Random Car ðŸš—</button>
    </div>

    <!-- Explanation of the neural network control -->
    <div class="text-container">
        <h2>Traffic Light Simulation</h2>
      <p>
        This website simulates the control of traffic lights at an intersection using an AI-driven system. 
        Users can interact with the traffic light by manually changing its state or observing the AI in action as it controls the traffic flow in real time.
      </p>
      <h2>How the Traffic Light is Controlled</h2>
      <p>
        The traffic light in this simulation is controlled by a custom-built neural network, which is trained to manage the flow of traffic at an intersection. 
        The neural network takes in various inputs such as the number of cars waiting at each light. 
        Based on this information, the network dynamically adjusts the light phases to optimize the flow of traffic.
      </p>
      <p>
        This neural network is capable of learning and adapting to different traffic patterns, making decisions that would otherwise require human intervention. 
        Over time, it gets better at managing traffic efficiently by responding to the real-time conditions of the intersection.
      </p>
    </div>
  </div>

  <!-- External JavaScript -->
  <script src="/static/trafficController.js"></script>
  
  <!-- Particle.js Script -->
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <script>
    particlesJS('particles-js', {
    particles: {
      number: {
        value: 100,
        density: {
          enable: true,
          value_area: 800
        }
      },
      color: {
        value: '#ffffff'
      },
      shape: {
        type: 'circle',
        stroke: {
          width: 0,
          color: '#000000'
        }
      },
      opacity: {
        value: 0.5,
        random: true,
        anim: {
          enable: true,
          speed: 1,
          opacity_min: 0.1,
          sync: false
        }
      },
      size: {
        value: 3,
        random: true,
        anim: {
          enable: true,
          speed: 40,
          size_min: 0.1,
          sync: false
        }
      },
      line_linked: {
        enable: true,
        distance: 150,
        color: '#ffffff',
        opacity: 0.4,
        width: 1
      },
      move: {
        enable: true,
        speed: 3,
        direction: 'none',
        random: true,
        straight: false,
        out_mode: 'out',
        bounce: false,
        attract: {
          enable: false
        }
      }
    },
    interactivity: {
      detect_on: 'canvas',
      events: {
        onhover: {
          enable: true,
          mode: 'repulse'
        },
        onclick: {
          enable: true,
          mode: 'push'
        }
      }
    },
    retina_detect: true
  });
  </script>
</body>
</html>
